# Emoji 幸存者 - 忍者版 README

欢迎来到 Emoji 幸存者 - 忍者版！这是一款受 Vampire Survivors 启发的街机风格生存游戏。

## 游戏玩法

*   **控制:** 使用 `W`, `A`, `S`, `D` 键移动你的忍者角色。
*   **目标:** 在不断涌来的敌人攻击下尽可能长时间地生存下去。
*   **升级:** 消灭敌人会掉落经验宝石 (💎)。收集宝石以提升等级。
*   **强化:** 每次升级时，你可以从随机出现的选项中选择一项强化，包括获得新武器、新被动道具，或升级现有物品。
*   **胜利条件:** 游戏目前没有明确的胜利条件，目标是尽可能生存更长时间，击败更多的敌人和 Boss。
*   **失败条件:** 当你的生命值降至 0 时，游戏结束。
*   **暂停:** 按 `P` 键可以暂停或恢复游戏。

## 游戏机制

### 玩家

*   **属性:** 玩家拥有生命值、移动速度、护甲、生命恢复、拾取范围、伤害、射弹速度、冷却缩减、范围、持续时间、射弹数量等多项属性。
*   **武器:** 玩家最多可以同时拥有 10 件武器 (可在 `config.js` 中修改 `maxWeapons`)。武器会自动攻击。
*   **被动道具:** 玩家最多可以同时拥有 10 件被动道具 (可在 `config.js` 中修改 `maxPassives`)。被动道具提供各种属性加成或特殊效果。
*   **升级:** 收集经验宝石提升等级，等级越高，升级所需经验越多 (经验曲线在 `config.js` 的 `LEVEL_XP_REQUIREMENTS` 中定义)。
*   **进化:** 当特定武器达到满级，并且玩家拥有指定的被动道具时，武器可能会进化成更强大的形态。

### 敌人

*   **生成:** 敌人会从屏幕外生成，生成速度和数量会随着游戏时间推移而增加。
*   **类型:** 游戏中有多种敌人类型，拥有不同的 Emoji 外观、生命值、速度、伤害和行为模式 (定义在 `constants.js` 的 `ENEMY_TYPES` 中)。有些敌人是近战，有些是远程，还有些会在死亡时爆炸。
*   **属性:** 基础敌人属性定义在 `config.js` 的 `ENEMY_BASE_STATS` 中，具体敌人的属性会基于此基础值和 `ENEMY_TYPES` 中定义的乘数。
*   **掉落:** 敌人死亡时会掉落经验宝石。有小概率掉落恢复生命的心 (❤️) 或吸取经验的磁铁 (🧲) (掉率在 `game.js` 的 `spawnRandomPickup` 函数中配置)。

### Boss

*   **生成:** Boss 会按照 `config.js` 中 `BOSS_INTERVAL` 定义的时间间隔生成。生成前会有警告提示。
*   **类型:** 游戏可以定义多种 Boss 类型 (在 `constants.js` 的 `BOSS_TYPES` 数组中定义)。
*   **属性:** Boss 拥有更高的生命值、伤害和其他属性。其属性会随着出现的次数（游戏轮数）增加而提升 (在 `enemy.js` 的 `BossEnemy` 构造函数中计算)。
*   **行为:** Boss 通常拥有多种攻击模式和特殊能力 (定义在 `enemy.js` 的 `BossEnemy` 类中，根据 `constants.js` 中的 `attackPattern` 选择)。
*   **掉落:** Boss 被击败后会掉落一个宝箱和大量经验宝石。

### 物品与升级

*   **武器:** 基础武器和高级武器在 `basicWeapons.js` 和 `advancedWeapons.js` 中定义。
*   **被动道具:** 被动道具在 `passiveItems.js` 中定义。
*   **升级效果:** 每个武器和被动道具的升级效果在其对应的类定义文件中的 `calculateStats` 或 `getUpgradeDescription` 方法中描述。
*   **数值配置:** 目前武器和道具的基础数值、成长数值直接写在各自的类文件中。未来可以考虑将其移至配置文件中以便于调整。

## 文件结构 (部分)

*   `index.html`: 游戏主页面，加载所有资源和脚本。
*   `js/core/config.js`: 核心配置文件 (游戏尺寸、基础属性、经验曲线等)。
*   `js/constants.js`: 定义游戏常量 (Emoji、敌人类型等)。
*   `js/game.js`: 游戏主逻辑文件 (初始化、游戏循环、更新、绘制、UI 管理、对象管理)。
*   `js/entities/`: 包含游戏中的各种实体类 (玩家 `player.js`、敌人 `enemy.js`、掉落物 `pickups.js` 等)。
*   `js/weapons/`: 包含武器 (`weapon.js`)、投射物 (`projectile.js`) 以及具体武器的定义 (`basicWeapons.js`, `advancedWeapons.js`)。
*   `js/items/`: 包含被动道具的定义 (`passiveItem.js`, `passiveItems.js`)。
*   `assets/`: 存放游戏资源，如图片。

## 如何修改

*   **基础数值/配置:** 查看 `js/core/config.js` 和 `js/constants.js`。
*   **游戏逻辑:** 查看 `js/game.js`。
*   **玩家/敌人行为:** 查看 `js/entities/` 目录下的对应文件。
*   **武器/道具效果:** 查看 `js/weapons/` 和 `js/items/` 目录下的对应文件。

## 游戏特点

- 🥷 控制忍者角色，使用WASD或方向键移动
- 💀 与各种敌人战斗，包括普通敌人和强大的Boss
- 🔪 解锁和升级多种武器和被动物品
- ✨ 收集经验宝石升级你的角色
- 🎁 打开宝箱获得随机奖励
- 🏆 尽可能长时间生存，挑战自己的记录

## 如何运行

1. 克隆或下载此仓库
2. 使用现代浏览器（如Chrome、Firefox、Edge等）打开`index.html`文件
3. 点击"开始游戏"按钮开始游戏

## 游戏控制

- **WASD** 或 **方向键**: 移动角色
- **P**: 暂停/继续游戏

## 技术细节

游戏使用纯JavaScript和HTML5 Canvas构建，无需任何外部库或框架。主要特点包括：

- 面向对象的游戏设计
- 高效的对象池系统
- 平滑的摄像机跟随
- 响应式设计，适应不同屏幕尺寸
- 使用表情符号作为游戏精灵

## 许可证

MIT